# Monorepo Strategy
- This is a TypeScript monorepo using [pnpm/npm/yarn] workspaces.
- Shared logic lives in `packages/`. Individual Workers live in `apps/` or `services/`.
- Always check `package.json` at the root and within sub-packages to understand dependency boundaries.
- When suggesting new dependencies, prefer using existing workspace packages via `workspace:*` protocols.

# Cloudflare Workers Standards
- Use **ES Modules (ESM)** format exclusively (e.g., `export default { fetch(...) }`). 
- **NO Service Worker syntax** (`addEventListener('fetch', ...)`) unless explicitly asked.
- Target the Cloudflare Workers runtime; avoid Node.js built-ins (like `fs` or `path`) unless using `nodejs_compat`.
- Always use **TypeScript** with strict type checking.
- Prefer `wrangler.jsonc` or `wrangler.toml` for configuration.

# Focus on:
- detect unnecessary wrapped elements.
- suggest simplifications and reusability.
- make sure the structure and code is maintainable.
- suggest to move reusable pure functions to TS files, making sure that we can easily test the logic.
- code reusability, maintenance, wisely breaking down functions into logical procedures (rather than having big functions).
- Errors should be logged using functions from app/lib/log.ts, rather than `console.error`
- workers is a multi package repo. Each package represents a service. The code and services should follow a service oriented architecture.
- prefer to have helper functions to avoid code duplication.

# Do **not** comment on:
- Single-vs-double quote style unless it breaks the linter.
